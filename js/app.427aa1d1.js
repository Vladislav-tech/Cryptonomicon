(function(e){function t(t){for(var r,o,s=t[0],a=t[1],u=t[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&f.push(c[o][0]),c[o]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var a=n[s];0!==c[a]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},c={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/Cryptonomicon/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],a=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=a;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"55fd":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c=(n("b0c0"),{class:"container mx-auto flex flex-col items-center bg-gray-100 p-4"}),i={class:"container"},o=Object(r["h"])("div",{class:"w-full my-4"},null,-1),s={class:"flex"},a={class:"max-w-xs"},u=Object(r["h"])("label",{for:"wallet",class:"block text-sm font-medium text-gray-700"},"Тикер",-1),l={class:"mt-1 relative rounded-md shadow-md"},d={key:0,class:"text-sm text-red-600"},f={key:0,class:"text-sm text-red-600"},h=Object(r["h"])("svg",{class:"-ml-0.5 mr-2 h-6 w-6",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"#ffffff"},[Object(r["h"])("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})],-1),b=Object(r["g"])(" Добавить "),p=Object(r["h"])("hr",{class:"w-full border-t border-gray-600 my-4"},null,-1),m=Object(r["g"])(" Фильтры: "),g=Object(r["g"])(" Сортировка "),y=Object(r["g"])(" > "),O=Object(r["h"])("option",{value:"name A-Z"},"По названию",-1),j=Object(r["h"])("option",{value:"name Z-A"},"По названию (обратный порядок)",-1),k=Object(r["h"])("option",{value:"price ascending"},"Цена (возрастание)",-1),v=Object(r["h"])("option",{value:"price descending"},"Цена (убывание) ",-1),x=Object(r["h"])("hr",{class:"w-full border-t border-gray-600 my-4"},null,-1),w={class:"px-4 py-5 sm:p-6 text-center"},C={class:"text-sm font-medium text-gray-500 truncate"},T={class:"flex items-center justify-center"},S={class:"mt-1 text-2xl font-semibold text-green-600"},E=Object(r["h"])("div",{class:"w-full border-t border-gray-200"},null,-1),N=Object(r["h"])("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"#718096","aria-hidden":"true"},[Object(r["h"])("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),I=Object(r["g"])("Удалить "),M=Object(r["h"])("hr",{class:"w-full border-t border-gray-600 my-4"},null,-1),P={key:1,class:"relative"},A={class:"text-lg leading-6 font-medium text-gray-900 my-8"},U={class:"flex items-end border-gray-600 border-b border-l h-64"},L=Object(r["h"])("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:svgjs":"http://svgjs.com/svgjs",version:"1.1",width:"30",height:"30",x:"0",y:"0",viewBox:"0 0 511.76 511.76",style:{"enable-background":"new 0 0 512 512"},"xml:space":"preserve"},[Object(r["h"])("g",null,[Object(r["h"])("path",{d:"M436.896,74.869c-99.84-99.819-262.208-99.819-362.048,0c-99.797,99.819-99.797,262.229,0,362.048    c49.92,49.899,115.477,74.837,181.035,74.837s131.093-24.939,181.013-74.837C536.715,337.099,536.715,174.688,436.896,74.869z     M361.461,331.317c8.341,8.341,8.341,21.824,0,30.165c-4.16,4.16-9.621,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251    l-75.413-75.435l-75.392,75.413c-4.181,4.16-9.643,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251    c-8.341-8.341-8.341-21.845,0-30.165l75.392-75.413l-75.413-75.413c-8.341-8.341-8.341-21.845,0-30.165    c8.32-8.341,21.824-8.341,30.165,0l75.413,75.413l75.413-75.413c8.341-8.341,21.824-8.341,30.165,0    c8.341,8.32,8.341,21.824,0,30.165l-75.413,75.413L361.461,331.317z",fill:"#718096","data-original":"#000000"})])],-1);function D(e,t,n,D,R,_){return Object(r["i"])(),Object(r["e"])("div",c,[Object(r["h"])("div",i,[o,Object(r["h"])("section",null,[Object(r["h"])("div",s,[Object(r["h"])("div",a,[u,Object(r["h"])("div",l,[Object(r["o"])(Object(r["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return R.ticker=e}),onKeydown:t[2]||(t[2]=Object(r["p"])((function(e){return _.add("enter")}),["enter"])),onInput:t[3]||(t[3]=function(){return _.showCoins&&_.showCoins.apply(_,arguments)}),type:"text",name:"wallet",id:"wallet",class:"block w-full pr-10 border-gray-300 text-gray-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm rounded-md",placeholder:_.randomCoin,autocomplete:"off"},null,40,["placeholder"]),[[r["m"],R.ticker]])]),(Object(r["i"])(!0),Object(r["e"])(r["a"],null,Object(r["j"])(R.possibleCoins,(function(e,t){return Object(r["i"])(),Object(r["e"])("button",{type:"button",key:t,onClick:function(t){return _.add(e)},tabindex:"1",class:"inline-flex items-center px-2 m-1 rounded-md text-xs font-medium bg-gray-300 text-gray-800 cursor-pointer"},Object(r["k"])(e),9,["onClick"])})),128)),Object(r["h"])(r["b"],{name:"bounce"},{default:Object(r["n"])((function(){return[R.error?(Object(r["i"])(),Object(r["e"])("div",d," Такой тикер уже добавлен ")):Object(r["f"])("",!0)]})),_:1}),Object(r["h"])(r["b"],{name:"bounce"},{default:Object(r["n"])((function(){return[R.tickerIsNotExisting?(Object(r["i"])(),Object(r["e"])("div",f," Такого тикера не существует ")):Object(r["f"])("",!0)]})),_:1})])]),Object(r["h"])("button",{onClick:t[4]||(t[4]=function(e){return _.add("click")}),type:"button",class:"my-4 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},[h,b]),Object(r["h"])(r["c"],{tag:"div",name:"bounce"},{default:Object(r["n"])((function(){return[R.tickers.length?(Object(r["i"])(!0),Object(r["e"])(r["a"],{key:0},Object(r["j"])(R.currencies,(function(e){return Object(r["i"])(),Object(r["e"])("button",{class:"bg-blue-500 hover:bg-blue-400 text-white mr-2 font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded",key:e,onClick:function(t){return _.switchCurrency(e)}},Object(r["k"])(e),9,["onClick"])})),128)):Object(r["f"])("",!0)]})),_:1})]),R.tickers.length?(Object(r["i"])(),Object(r["e"])(r["a"],{key:0},[p,Object(r["h"])("p",null,[m,Object(r["o"])(Object(r["h"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return R.filterName=e}),type:"text",placeholder:"Имя",class:"block border-gray-300 text-gray-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm rounded-md"},null,512),[[r["m"],R.filterName]]),R.page>1?(Object(r["i"])(),Object(r["e"])("button",{key:0,onClick:t[6]||(t[6]=function(e){return R.page--}),class:"my-4 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}," Назад ")):Object(r["f"])("",!0),_.hasNextPage?(Object(r["i"])(),Object(r["e"])("button",{key:1,onClick:t[7]||(t[7]=function(e){return R.page++}),class:"my-4 mx-2 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}," Вперёд ")):Object(r["f"])("",!0)]),Object(r["h"])("p",null,[g,Object(r["o"])(Object(r["h"])("select",{id:"sortings","onUpdate:modelValue":t[8]||(t[8]=function(e){return R.sorting=e}),class:"block border-gray-300 text-gray-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm rounded-md"},[y,O,j,k,v],512),[[r["l"],R.sorting]])]),Object(r["h"])("button",{type:"button",class:"my-4 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",onClick:t[9]||(t[9]=function(){return _.clearTickers&&_.clearTickers.apply(_,arguments)})}," Очистить "),x,Object(r["h"])(r["c"],{name:"list",tag:"dl",class:"mt-5 grid grid-cols-1 gap-5 sm:grid-cols-3"},{default:Object(r["n"])((function(){return[(Object(r["i"])(!0),Object(r["e"])(r["a"],null,Object(r["j"])(_.paginatedTickers,(function(e){return Object(r["i"])(),Object(r["e"])("div",{key:e.name,onClick:function(t){return _.select(e)},class:[{"border-4":R.selectedTicker===e},"bg-white overflow-hidden shadow rounded-lg border-purple-800 border-solid cursor-pointer"]},[Object(r["h"])("div",w,[Object(r["h"])("dt",C,Object(r["k"])(e.name)+" - "+Object(r["k"])(R.choosedCurrency),1),Object(r["h"])("span",T,[Object(r["h"])("img",{class:"ticker-img",src:e.image},null,8,["src"])]),Object(r["h"])("dd",S,Object(r["k"])(_.numberWithSpaces(e.price)),1)]),E,Object(r["h"])("button",{onClick:Object(r["q"])((function(t){return _.handleDelete(e)}),["stop"]),class:"flex items-center justify-center font-medium w-full bg-gray-100 px-4 py-4 sm:px-6 text-md text-gray-500 hover:text-gray-600 hover:bg-gray-200 hover:opacity-20 transition-all focus:outline-none"},[N,I],8,["onClick"])],10,["onClick"])})),128))]})),_:1}),M],64)):Object(r["f"])("",!0),R.selectedTicker?(Object(r["i"])(),Object(r["e"])("section",P,[Object(r["h"])("h3",A,Object(r["k"])(R.selectedTicker.name)+" - "+Object(r["k"])(R.choosedCurrency),1),Object(r["h"])("div",U,[(Object(r["i"])(!0),Object(r["e"])(r["a"],null,Object(r["j"])(_.normalizedGraph,(function(e,t){return Object(r["i"])(),Object(r["e"])("div",{key:t,style:{height:"".concat(e,"%")},class:"bg-purple-800 border w-10"},null,4)})),128))]),Object(r["h"])("button",{onClick:t[10]||(t[10]=function(e){return R.selectedTicker=null}),type:"button",class:"absolute top-0 right-0"},[L])])):Object(r["f"])("",!0)])])}n("99af"),n("a623"),n("4de4"),n("4160"),n("caad"),n("a15b"),n("d81d"),n("fb6a"),n("45fc"),n("4e82"),n("b680"),n("c1f9"),n("b64b"),n("d3b7"),n("ac1f"),n("25f0"),n("2532"),n("3ca3"),n("5319"),n("1276"),n("498a"),n("159b"),n("ddb0"),n("2b3d");var R=n("2909"),_=(n("4ec9"),n("96cf"),n("1da1")),z="7988483396dcdf51392e965e28d73a3071ac10bfb3c69d5ebb9d39c130ba8b2b",G=new Map,J=new WebSocket("wss://streamer.cryptocompare.com/v2?api_key=".concat(z)),B="5";function H(e){var t=JSON.stringify(e);J.readyState!==WebSocket.OPEN?J.addEventListener("open",(function(){J.send(t)}),{once:!0}):J.send(t)}function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";H({action:"SubAdd",subs:["5~CCCAGG~".concat(e,"~").concat(t)]})}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";H({action:"SubRemove",subs:["5~CCCAGG~".concat(e,"~").concat(t)]})}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";e.forEach((function(e){H({action:"SubRemove",subs:["5~CCCAGG~".concat(e.name,"~").concat(t)]})}))}J.addEventListener("message",(function(e){var t,n=JSON.parse(e.data),r=n.TYPE,c=n.FROMSYMBOL,i=n.PRICE,o=n.PARAMETER;if("500"===r){var s=G.get(o.split("~")[2]),a=null!==s&&void 0!==s?s:[];a.forEach((function(e){return e("Тикер ".concat(s," временно недоступен"))}))}if(r===B&&void 0!==i){var u=null!==(t=G.get(c))&&void 0!==t?t:[];u.forEach((function(e){return e(i)}))}}));var Y=function(e,t,n){var r=G.get(e)||[];G.set(e,[].concat(Object(R["a"])(r),[n])),V(e,t)},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";G.delete(e),Z(e,t)},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";G.clear(),W(e,t)};window.tickersHandlers=G;var q=function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://min-api.cryptocompare.com/data/all/coinlist?summary=true");case 2:return n=e.sent,e.next=5,n.json();case 5:t.coinsList=e.sent.Data;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K={name:"App",data:function(){return{ticker:"",currencies:["USD","RUB","EUR","JPY"],tickers:[],selectedTicker:null,graph:[],coinsList:{},possibleCoins:[],error:!1,tickerIsNotExisting:!1,page:1,sorting:"",popularCoins:["BTC","LTC","XPR","BCH","ETH","DOGE","USDT","XMR","DASH","ZEC"],choosedCurrency:"USD",filterName:"",filterPrice:{max:0,min:0}}},created:function(){var e=this,t=Object.fromEntries(new URL(window.location).searchParams.entries());t.filter&&(this.filterName=t.filter),t.page&&(this.page=t.page);var n=localStorage.getItem("tickers");n&&(this.tickers=JSON.parse(n),this.tickers.forEach((function(t){Y(t.name,t.currency,(function(n){return e.updateTicker(t.name,t.currency,n)}))})))},watch:{filterName:function(){this.page=1},pageStateOptions:function(e){var t=window.location.pathname;window.history.pushState(null,document.title,"".concat(t,"?filter=").concat(e.filterName,"&page=").concat(e.page))},sorting:function(){switch(this.sorting){case"name A-Z":this.tickers=this.tickers.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:e.name===t.name?0:void 0}));break;case"name Z-A":this.tickers=this.tickers.sort((function(e,t){return e.name>t.name?-1:e.name<t.name?1:e.name===t.name?0:void 0}));break;case"price ascending":this.tickers=this.tickers.sort((function(e,t){return e.price-t.price}));break;case"price descending":this.tickers=this.tickers.sort((function(e,t){return t.price-e.price}))}localStorage.setItem("tickers",JSON.stringify(this.filteredTickers)),this.page=1},error:function(){var e=this;setTimeout((function(){return e.error=!1}),3500)},tickerIsNotExisting:function(){var e=this;setTimeout((function(){return e.tickerIsNotExisting=!1}),3500)},paginatedTickers:function(){0===this.paginatedTickers.length&&this.page>1&&(this.page-=1)},selectedTicker:function(){this.graph=[]},tickers:function(){localStorage.setItem("tickers",JSON.stringify(this.tickers))}},methods:{add:function(e){var t=this;if(("click"===e||"enter"===e)&&(e=this.ticker),this.canAddTicker(e)){var n,r={name:e||this.ticker,price:"-",image:"https://www.cryptocompare.com"+(null===(n=this.coinsList[this.name])||void 0===n?void 0:n.ImageUrl)||!1,currency:this.choosedCurrency};this.tickers=[].concat(Object(R["a"])(this.tickers),[r]),this.filterName="",this.ticker="",this.possibleCoins=[],Y(r.name,r.currency,(function(e){return t.updateTicker(r.name,r.currency,e)})),this.addImageToTicker()}},clearTickers:function(){X(this.tickers,this.choosedCurrency),this.tickers=[],localStorage.clear()},switchCurrency:function(e){var t=this;this.choosedCurrency!==e&&(X(this.tickers,this.choosedCurrency),this.choosedCurrency=e,this.tickers.forEach((function(n){n.currency=e,Y(n.name,n.currency,(function(e){return t.updateTicker(n.name,n.currency,e)}))})))},formatPrice:function(e){if("number"===typeof e)return e>1?+e.toFixed(3):+e.toPrecision(3)},updateTicker:function(e,t,n){var r=this;this.tickers.filter((function(t){return t.name===e})).forEach((function(e){e===r.selectedTicker&&r.graph.push(n),e.currency=t,e.price="number"===typeof n?n:"Тикер ".concat(e.name," временно недоступен")}))},select:function(e){this.selectedTicker=e},handleDelete:function(e){this.tickers=this.tickers.filter((function(t){return t!==e})),this.selectedTicker===e&&(this.selectedTicker=null),localStorage.setItem("tickers",JSON.stringify(this.tickers)),F(e.name,e.currency)},shuffleArray:function(e){var t,n=e.length;while(0!==n){t=Math.floor(Math.random()*n),n--;var r=[e[t],e[n]];e[n]=r[0],e[t]=r[1]}return e},numberWithSpaces:function(e){if("number"!==typeof e)return e;e=this.formatPrice(e);var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),t.join(".")},showCoins:function(e){var t=e.target.value.toUpperCase();this.ticker=this.ticker.toUpperCase().trim(),this.possibleCoins=Object.keys(this.coinsList).filter((function(e){return e.includes(t)})),this.shuffleArray(this.possibleCoins),this.possibleCoins=this.possibleCoins.slice(0,4)},addImageToTicker:function(){var e=this;this.tickers.forEach((function(t){var n;t.image="https://www.cryptocompare.com"+(null===(n=e.coinsList[t.name])||void 0===n?void 0:n.ImageUrl)}))},canAddTicker:function(e){return!this.tickers.length||(this.error=this.tickers.some((function(t){return t.name===e})),this.tickerIsNotExisting=!Object.keys(this.coinsList).includes(e),this.tickers.every((function(t){return t.name!==e}))&&Object.keys(this.coinsList).includes(e))}},computed:{randomCoin:function(){return"Например: "+this.shuffleArray(this.popularCoins)[0]},startIndex:function(){return 6*(this.page-1)},endIndex:function(){return 6*this.page},filteredTickers:function(){var e=this;return this.tickers.filter((function(t){return t.name.includes(e.filterName)}))},paginatedTickers:function(){return this.filteredTickers.slice(this.startIndex,this.endIndex)},hasNextPage:function(){return this.filteredTickers.length>this.endIndex},normalizedGraph:function(){var e=Math.max.apply(Math,Object(R["a"])(this.graph)),t=Math.min.apply(Math,Object(R["a"])(this.graph));return this.graph.map((function(n){return 5+95*(n-t)/(e-t)}))},pageStateOptions:function(){return{filterName:this.filterName,page:this.page}}},mounted:function(){q(this)}};n("eea2");K.render=D;var Q=K;n("ba8c");Object(r["d"])(Q).mount("#app")},ba8c:function(e,t,n){},eea2:function(e,t,n){"use strict";n("55fd")}});
//# sourceMappingURL=app.427aa1d1.js.map